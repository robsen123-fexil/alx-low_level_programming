more about functions and nested  loop